<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    body{
        text-align: center;
        
    }

    .image{
            width: 100px;
            height: 100px;
    }
    </style>
</head>
<body>
    <h1>Interface Admin</h1>

    <label for="fichier"> choisir un fichier image</label>
    <input type="file" id="fichier" accept="image/png , image/jpeg"></input>
    <input type="text" id="text1">  </input>
    <button >Poster</button>
    <ul id="l1">    </ul> 
    
    
    <script>
    let button = document.querySelector("button");
let liste1 = document.querySelector("#l1");
let input = document.querySelector("#text1");
let fichier = document.querySelector("#fichier");
button.addEventListener("click", add);
i=0;  
function add() {
    if (input.value=="") 
     {
        alert("empty input")
        return;
     }
        let li = document.createElement("li");
        li.id = "perso" + i;
        i++;
        let span = document.createElement("span");
        span.innerHTML = "Titre : " + input.value;
        let button2 = document.createElement("button");
        button2.innerText = "supprimer";
        button2.addEventListener("click", del);
        let photo = document.createElement("img");
        let path = "";
        path=fichier.value;
        path=path.replace(/C:\\fakepath\\/i,'');
        
        photo.setAttribute("src",path) ;
        photo.setAttribute("alt","impossible") ;
        photo.className="image";
        li.appendChild(button2);
        li.appendChild(span);
        li.appendChild(photo);
        liste1.appendChild(li);
        input.value=''
        

    

}
function del(e) {
    let L_id= e.target.parentElement.parentElement.id;
    let id = e.target.parentElement.id;
    let elementToDelete = document.getElementById(id);
    let elt =document.getElementById(id);
    elementToDelete.remove();
    if(L_id=="l1"){  
         e.target.className="btn";
         liste2.appendChild(elt);
    }
 
  }

    
    </script>
</body>
</html>